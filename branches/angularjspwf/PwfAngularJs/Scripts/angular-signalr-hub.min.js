angular.module("SignalR", []).constant("$", $).factory("Hub", ["$", "$q", function (e, t) { return function (n, r, i) { var s = t.defer(); var o = this; o.connection = e.hubConnection(); o.connection.logging = true; o.proxy = o.connection.createHubProxy(n); o.proxy.on("requiredToFunction", function () { }); o.connection.start().done(function () { s.resolve(o) }).fail(function () { s.reject(o) }); o.on = function (e, t) { o.proxy.on(e, t) }; o.invoke = function (e, t) { return o.proxy.invoke.apply(o.proxy, arguments) }; if (r) { angular.forEach(r, function (e, t) { o.on(t, e) }) } if (i) { angular.forEach(i, function (t) { o[t] = function () { var n = e.makeArray(arguments); n.unshift(t); return o.invoke.apply(o, n) } }) } return s.promise } }])